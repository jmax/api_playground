<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Api playground</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.13.1/application.js' type='text/javascript'></script>
    <link href='./assets/0.13.1/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="icon" type="image/png" href="./assets/0.13.1/favicon_yellow.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.13.1/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2025-07-02T13:46:07-03:00">2025-07-02T13:46:07-03:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="yellow">
  87.35%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         14.46
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>9</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>419</b> relevant lines,
    <span class="green"><b>366</b> lines covered</span> and
    <span class="red"><b>53</b> lines missed. </span>
    (<span class="yellow">
  87.35%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e2c115a485d3bbc1cfdfd491fab7e0d01eb6763c" class="src_link" title="app/controllers/concerns/api_playground/api_key_protection.rb">app/controllers/concerns/api_playground/api_key_protection.rb</a></td>
            <td class="green strong cell--number t-file__coverage">94.74 %</td>
            <td class="cell--number">46</td>
            <td class="cell--number">19</td>
            <td class="cell--number">18</td>
            <td class="cell--number">1</td>
            <td class="cell--number">2.47</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6c78dc4f1ddac6da3bfa53ab741489731e408352" class="src_link" title="app/models/api_playground/api_key.rb">app/models/api_playground/api_key.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">54</td>
            <td class="cell--number">31</td>
            <td class="cell--number">31</td>
            <td class="cell--number">0</td>
            <td class="cell--number">9.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#06614cdbdfaed89168b33f9664cae5e1c429c584" class="src_link" title="lib/api_playground.rb">lib/api_playground.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">26</td>
            <td class="cell--number">16</td>
            <td class="cell--number">16</td>
            <td class="cell--number">0</td>
            <td class="cell--number">3.31</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fd0b52bbdd17d3bb871cba6b7c9ead6e54f75b35" class="src_link" title="lib/api_playground/api_protection.rb">lib/api_playground/api_protection.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">36</td>
            <td class="cell--number">17</td>
            <td class="cell--number">17</td>
            <td class="cell--number">0</td>
            <td class="cell--number">2.88</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#7dcb193069af5dc7fc3d4bcc05ce37d01cef0a31" class="src_link" title="lib/api_playground/concern.rb">lib/api_playground/concern.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.16 %</td>
            <td class="cell--number">759</td>
            <td class="cell--number">182</td>
            <td class="cell--number">155</td>
            <td class="cell--number">27</td>
            <td class="cell--number">22.08</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5f726a321dc60b9a56c0098fe42f1976ea00a1eb" class="src_link" title="lib/api_playground/configuration.rb">lib/api_playground/configuration.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">17</td>
            <td class="cell--number">9</td>
            <td class="cell--number">9</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#ac0d73fbb6aafd6b3f3296fbb42a3af060dba7e6" class="src_link" title="lib/api_playground/documentation.rb">lib/api_playground/documentation.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">89.66 %</td>
            <td class="cell--number">556</td>
            <td class="cell--number">116</td>
            <td class="cell--number">104</td>
            <td class="cell--number">12</td>
            <td class="cell--number">11.84</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#2c8ed771b04d965f5ed352efa4ad254cdef402a4" class="src_link" title="lib/api_playground/engine.rb">lib/api_playground/engine.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">25</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">16.85</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#20e28122722739e1697c6f38a122b94904e6aa16" class="src_link" title="lib/api_playground/routing_mapper.rb">lib/api_playground/routing_mapper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">18.75 %</td>
            <td class="cell--number">53</td>
            <td class="cell--number">16</td>
            <td class="cell--number">3</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0.19</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
          <div class="file_list_container" id="Controllers">
  <h2>
    <span class="group_name">Controllers</span>
    (<span class="covered_percent">
      <span class="green">
  94.74%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         2.47
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Controllers"></a>

  <div>
    <b>1</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>19</b> relevant lines,
    <span class="green"><b>18</b> lines covered</span> and
    <span class="red"><b>1</b> lines missed. </span>
    (<span class="green">
  94.74%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e2c115a485d3bbc1cfdfd491fab7e0d01eb6763c" class="src_link" title="app/controllers/concerns/api_playground/api_key_protection.rb">app/controllers/concerns/api_playground/api_key_protection.rb</a></td>
            <td class="green strong cell--number t-file__coverage">94.74 %</td>
            <td class="cell--number">46</td>
            <td class="cell--number">19</td>
            <td class="cell--number">18</td>
            <td class="cell--number">1</td>
            <td class="cell--number">2.47</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Channels">
  <h2>
    <span class="group_name">Channels</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Channels"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Models">
  <h2>
    <span class="group_name">Models</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         9.29
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Models"></a>

  <div>
    <b>1</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>31</b> relevant lines,
    <span class="green"><b>31</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6c78dc4f1ddac6da3bfa53ab741489731e408352" class="src_link" title="app/models/api_playground/api_key.rb">app/models/api_playground/api_key.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">54</td>
            <td class="cell--number">31</td>
            <td class="cell--number">31</td>
            <td class="cell--number">0</td>
            <td class="cell--number">9.29</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Mailers">
  <h2>
    <span class="group_name">Mailers</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Mailers"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Helpers">
  <h2>
    <span class="group_name">Helpers</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Helpers"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Jobs">
  <h2>
    <span class="group_name">Jobs</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Jobs"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Libraries">
  <h2>
    <span class="group_name">Libraries</span>
    (<span class="covered_percent">
      <span class="yellow">
  85.91%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         15.51
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Libraries"></a>

  <div>
    <b>7</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>369</b> relevant lines,
    <span class="green"><b>317</b> lines covered</span> and
    <span class="red"><b>52</b> lines missed. </span>
    (<span class="yellow">
  85.91%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#06614cdbdfaed89168b33f9664cae5e1c429c584" class="src_link" title="lib/api_playground.rb">lib/api_playground.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">26</td>
            <td class="cell--number">16</td>
            <td class="cell--number">16</td>
            <td class="cell--number">0</td>
            <td class="cell--number">3.31</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fd0b52bbdd17d3bb871cba6b7c9ead6e54f75b35" class="src_link" title="lib/api_playground/api_protection.rb">lib/api_playground/api_protection.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">36</td>
            <td class="cell--number">17</td>
            <td class="cell--number">17</td>
            <td class="cell--number">0</td>
            <td class="cell--number">2.88</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#7dcb193069af5dc7fc3d4bcc05ce37d01cef0a31" class="src_link" title="lib/api_playground/concern.rb">lib/api_playground/concern.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.16 %</td>
            <td class="cell--number">759</td>
            <td class="cell--number">182</td>
            <td class="cell--number">155</td>
            <td class="cell--number">27</td>
            <td class="cell--number">22.08</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5f726a321dc60b9a56c0098fe42f1976ea00a1eb" class="src_link" title="lib/api_playground/configuration.rb">lib/api_playground/configuration.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">17</td>
            <td class="cell--number">9</td>
            <td class="cell--number">9</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#ac0d73fbb6aafd6b3f3296fbb42a3af060dba7e6" class="src_link" title="lib/api_playground/documentation.rb">lib/api_playground/documentation.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">89.66 %</td>
            <td class="cell--number">556</td>
            <td class="cell--number">116</td>
            <td class="cell--number">104</td>
            <td class="cell--number">12</td>
            <td class="cell--number">11.84</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#2c8ed771b04d965f5ed352efa4ad254cdef402a4" class="src_link" title="lib/api_playground/engine.rb">lib/api_playground/engine.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">25</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">16.85</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#20e28122722739e1697c6f38a122b94904e6aa16" class="src_link" title="lib/api_playground/routing_mapper.rb">lib/api_playground/routing_mapper.rb</a></td>
            <td class="red strong cell--number t-file__coverage">18.75 %</td>
            <td class="cell--number">53</td>
            <td class="cell--number">16</td>
            <td class="cell--number">3</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0.19</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Concerns">
  <h2>
    <span class="group_name">Concerns</span>
    (<span class="covered_percent">
      <span class="green">
  94.74%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         2.47
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Concerns"></a>

  <div>
    <b>1</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>19</b> relevant lines,
    <span class="green"><b>18</b> lines covered</span> and
    <span class="red"><b>1</b> lines missed. </span>
    (<span class="green">
  94.74%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e2c115a485d3bbc1cfdfd491fab7e0d01eb6763c" class="src_link" title="app/controllers/concerns/api_playground/api_key_protection.rb">app/controllers/concerns/api_playground/api_key_protection.rb</a></td>
            <td class="green strong cell--number t-file__coverage">94.74 %</td>
            <td class="cell--number">46</td>
            <td class="cell--number">19</td>
            <td class="cell--number">18</td>
            <td class="cell--number">1</td>
            <td class="cell--number">2.47</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.22.0
        and simplecov-html v0.13.1<br/>
        using RSpec
      </div>

      <div class="source_files">
      
        <div class="source_table" id="e2c115a485d3bbc1cfdfd491fab7e0d01eb6763c">
  <div class="header">
    <h3>app/controllers/concerns/api_playground/api_key_protection.rb</h3>
    <h4>
      <span class="green">
  94.74%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>19</b> relevant lines.
      <span class="green"><b>18</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby">  # Provides API key protection for controllers.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            

            

            <code class="ruby">  # When included and enabled, requires a valid API key in the X-API-Key header.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            

            

            <code class="ruby">  # @example Enable protection in a controller</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby">  #   class Api::PlaygroundController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            

            

            <code class="ruby">  #     include ApiPlayground::ApiKeyProtection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby">  #     protected_playground!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            

            

            <code class="ruby">  #   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  module ApiKeyProtection</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    include ApiPlayground::ApiProtection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    included do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="17">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">      class_attribute :api_protection_enabled, default: false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="18">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">      before_action :validate_api_key, if: :api_protection_enabled?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    module ClassMethods</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">      # Enables API key protection for all actions in the controller</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      def protected_playground!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="24">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">        self.api_protection_enabled = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby">      # Disables API key protection for all actions in the controller</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      def unprotected_playground!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="29">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        self.api_protection_enabled = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    protected</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def validate_api_key</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="36">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">      return true unless api_protection_enabled?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="37">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">      authenticate_api_key!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def api_protection_enabled?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            

            

            <code class="ruby">      self.class.api_protection_enabled == true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6c78dc4f1ddac6da3bfa53ab741489731e408352">
  <div class="header">
    <h3>app/models/api_playground/api_key.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>31</b> relevant lines.
      <span class="green"><b>31</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  class ApiKey &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    validates :token, presence: true, uniqueness: { case_sensitive: true }, on: :update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    validates :token, uniqueness: { case_sensitive: true }, on: :create</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="5">
            
              <span class="hits">28</span>
            

            

            <code class="ruby">    validates :expires_at, presence: true, unless: -&gt; { new_record? &amp;&amp; expires_at.nil? &amp;&amp; !validation_context }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="7">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">    scope :valid, -&gt; { where(&#39;expires_at &gt; ?&#39;, Time.current) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    before_create :generate_token</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    before_validation :ensure_expires_at, on: :create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def self.valid_token?(token)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="13">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">      valid.exists?(token: token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def expired?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="17">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">      expires_at &lt;= Time.current</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def touch_last_used</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      update_column(:last_used_at, Time.current)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_token</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="27">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      return if token.present?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="29">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      max_attempts = 10</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="30">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      attempts = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="32">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="33">
            
              <span class="hits">30</span>
            

            

            <code class="ruby">        attempts += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="34">
            
              <span class="hits">30</span>
            

            

            <code class="ruby">        self.token = SecureRandom.base58(24)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            

            

            <code class="ruby">        # Try to find any existing records with this token</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="37">
            
              <span class="hits">30</span>
            

            

            <code class="ruby">        if self.class.exists?(token: token)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="38">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">          if attempts &gt;= max_attempts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            errors.add(:token, &quot;could not generate a unique token after #{max_attempts} attempts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            raise ActiveRecord::RecordInvalid.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="42">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">          next</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="45">
            
              <span class="hits">19</span>
            

            

            <code class="ruby">        break # Token is unique, we can use it</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            

            

            <code class="ruby">      end while attempts &lt; max_attempts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def ensure_expires_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="50">
            
              <span class="hits">23</span>
            

            

            <code class="ruby">      return if expires_at.present?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      self.expires_at = 5.days.from_now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="06614cdbdfaed89168b33f9664cae5e1c429c584">
  <div class="header">
    <h3>lib/api_playground.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>16</b> relevant lines.
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;api_playground/version&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;api_playground/routing_mapper&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;api_playground/concern&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;api_playground/documentation&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;api_playground/configuration&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;api_playground/api_protection&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;api_playground/engine&quot; if defined?(Rails)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  class Error &lt; StandardError; end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  class &lt;&lt; self</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def configuration</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="14">
            
              <span class="hits">28</span>
            

            

            <code class="ruby">      @configuration ||= Configuration.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def configure</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="18">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      yield(configuration)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby"># Ensure the routing mapper is included when Rails is available</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">if defined?(Rails) &amp;&amp; defined?(ActionDispatch::Routing::Mapper)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  ActionDispatch::Routing::Mapper.include(ApiPlayground::RoutingMapper)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fd0b52bbdd17d3bb871cba6b7c9ead6e54f75b35">
  <div class="header">
    <h3>lib/api_playground/api_protection.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>17</b> relevant lines.
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby">  # Internal module for API key validation logic.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            

            

            <code class="ruby">  # This module is used by ApiKeyProtection concern and should not be included directly.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  module ApiProtection</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def authenticate_api_key!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="12">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">      unless valid_api_key?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="13">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">        render json: { error: &#39;Invalid or missing API key&#39; }, status: :unauthorized</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def valid_api_key?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="18">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">      return false unless api_key.present?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="20">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">      model = ApiPlayground.configuration.api_key_model.constantize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="21">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">      field = ApiPlayground.configuration.api_key_field</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">      # Find the key and update last_used_at if valid</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="24">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">      key_record = model.find_by(field =&gt; api_key)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="25">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">      if key_record&amp;.touch_last_used</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="26">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="28">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def api_key</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="33">
            
              <span class="hits">9</span>
            

            

            <code class="ruby">      request.headers[ApiPlayground.configuration.api_key_header]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="7dcb193069af5dc7fc3d4bcc05ce37d01cef0a31">
  <div class="header">
    <h3>lib/api_playground/concern.rb</h3>
    <h4>
      <span class="yellow">
  85.16%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>182</b> relevant lines.
      <span class="green"><b>155</b> lines covered</span> and
      <span class="red"><b>27</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            

            

            <code class="ruby"># ApiPlayground provides a flexible way to expose model data through a JSONAPI-compliant interface.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby"># It allows you to define which models and attributes should be exposed, including support for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            

            

            <code class="ruby"># grouped attributes, relationships, and configurable create/update/delete operations.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            

            

            <code class="ruby"># Features:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby"># - JSONAPI-compliant responses</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            

            

            <code class="ruby"># - Flexible attribute grouping</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby"># - Relationship handling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            

            

            <code class="ruby"># - Configurable create/update operations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            

            

            <code class="ruby"># - Configurable delete operations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            

            

            <code class="ruby"># - Automatic error handling</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby"># - ISO8601 timestamp formatting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby"># @example Basic usage in a controller</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            

            

            <code class="ruby">#   class Api::PlaygroundController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            

            

            <code class="ruby">#     include ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">#     playground_for :recipe,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            

            

            <code class="ruby">#                   attributes: [:title, :summary],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">#                   relationships: [:author]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">#   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby"># @example Full configuration with all options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            

            

            <code class="ruby">#   playground_for :recipe,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby">#                 attributes: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            

            

            <code class="ruby">#                   :title,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            

            

            <code class="ruby">#                   :summary,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            

            

            <code class="ruby">#                   { timestamps: [:created_at, :updated_at] },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            

            

            <code class="ruby">#                   { metrics: [:views_count, :likes_count] }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            

            

            <code class="ruby">#                 ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            

            

            <code class="ruby">#                 relationships: [:author, :categories],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            

            

            <code class="ruby">#                 requests: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            

            

            <code class="ruby">#                   create: { fields: [:title, :summary, :author_id] },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            

            

            <code class="ruby">#                   update: { fields: [:title, :summary] },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            

            

            <code class="ruby">#                   delete: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            

            

            <code class="ruby">#                 }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            

            

            <code class="ruby"># @example Response format for a single resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            

            

            <code class="ruby">#   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            

            

            <code class="ruby">#     &quot;data&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            

            

            <code class="ruby">#       &quot;id&quot;: &quot;1&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            

            

            <code class="ruby">#       &quot;type&quot;: &quot;recipes&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            

            

            <code class="ruby">#       &quot;attributes&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            

            

            <code class="ruby">#         &quot;title&quot;: &quot;Spaghetti Carbonara&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            

            

            <code class="ruby">#         &quot;summary&quot;: &quot;Classic Italian pasta dish&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            

            

            <code class="ruby">#         &quot;timestamps&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            

            

            <code class="ruby">#           &quot;created_at&quot;: &quot;2024-03-21T14:30:00Z&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            

            

            <code class="ruby">#           &quot;updated_at&quot;: &quot;2024-03-21T14:30:00Z&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            

            

            <code class="ruby">#         }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            

            

            <code class="ruby">#       },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            

            

            <code class="ruby">#       &quot;relationships&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            

            

            <code class="ruby">#         &quot;author&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            

            

            <code class="ruby">#           &quot;data&quot;: { &quot;id&quot;: &quot;1&quot;, &quot;type&quot;: &quot;author&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            

            

            <code class="ruby">#         }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            

            

            <code class="ruby">#       }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            

            

            <code class="ruby">#     },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            

            

            <code class="ruby">#     &quot;meta&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            

            

            <code class="ruby">#       &quot;available_attributes&quot;: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            

            

            <code class="ruby">#       &quot;available_models&quot;: [...]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            

            

            <code class="ruby">#     }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            

            

            <code class="ruby">#   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            

            

            <code class="ruby"># @example Error response format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            

            

            <code class="ruby">#   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            

            

            <code class="ruby">#     &quot;errors&quot;: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            

            

            <code class="ruby">#       &quot;status&quot;: &quot;422&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            

            

            <code class="ruby">#       &quot;title&quot;: &quot;Validation Error&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            

            

            <code class="ruby">#       &quot;detail&quot;: &quot;Title can&#39;t be blank&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            

            

            <code class="ruby">#       &quot;source&quot;: { &quot;pointer&quot;: &quot;/data/attributes/title&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            

            

            <code class="ruby">#     }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            

            

            <code class="ruby">#   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            

            

            <code class="ruby"># Supported HTTP Methods:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            

            

            <code class="ruby"># - GET /api/playground/:model_name - List resources</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            

            

            <code class="ruby"># - GET /api/playground/:model_name/:id - Show resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            

            

            <code class="ruby"># - POST /api/playground/:model_name - Create resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            

            

            <code class="ruby"># - PATCH /api/playground/:model_name/:id - Update resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            

            

            <code class="ruby"># - DELETE /api/playground/:model_name/:id - Delete resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            

            

            <code class="ruby"># Error Handling:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            

            

            <code class="ruby"># - 400 Bad Request (missing parameters)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            

            

            <code class="ruby"># - 404 Not Found (model/record not found)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            

            

            <code class="ruby"># - 405 Method Not Allowed (unsupported operations)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            

            

            <code class="ruby"># - 422 Unprocessable Entity (validation errors)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            

            

            <code class="ruby"># - 204 No Content (successful deletion)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    included do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="92">
            
              <span class="hits">27</span>
            

            

            <code class="ruby">      class_attribute :playground_configurations, default: {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            

            

            <code class="ruby">      # Only skip authenticity token verification if the callback exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            

            

            <code class="ruby">      # (it doesn&#39;t exist in API-only controllers)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="96">
            
              <span class="hits">27</span>
            

            

            <code class="ruby">      if respond_to?(:skip_before_action) &amp;&amp; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="97">
            
              <span class="hits">13</span>
            

            

            <code class="ruby">         _process_action_callbacks.any? { |callback| callback.filter == :verify_authenticity_token }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="98">
            
              <span class="hits">13</span>
            

            

            <code class="ruby">        skip_before_action :verify_authenticity_token, only: [:create, :update, :destroy]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    class_methods do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            

            

            <code class="ruby">      # Configures a model for the API playground.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            

            

            <code class="ruby">      # @param model_name [Symbol] The name of the model to expose</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            

            

            <code class="ruby">      # @param options [Hash] Configuration options for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            

            

            <code class="ruby">      # @option options [Array&lt;Symbol, Hash&gt;] :attributes List of attributes to expose.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            

            

            <code class="ruby">      #   Can include both direct attributes and grouped attributes in hashes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            

            

            <code class="ruby">      # @option options [Array&lt;Symbol&gt;] :relationships List of relationships to include</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            

            

            <code class="ruby">      # @option options [Array&lt;Hash&gt;] :filters List of filterable fields with their match type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            

            

            <code class="ruby">      #   Each filter hash should contain :field and :type keys, where type can be :exact or :partial</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            

            

            <code class="ruby">      # @option options [Hash] :pagination Pagination configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            

            

            <code class="ruby">      #   :enabled (Boolean) Whether pagination is enabled (defaults to true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            

            

            <code class="ruby">      #   :page_size (Integer) Default page size (defaults to 15, max 50)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            

            

            <code class="ruby">      #   :total_count (Boolean) Whether to include total count in response (defaults to true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            

            

            <code class="ruby">      # @example Basic attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            

            

            <code class="ruby">      #   playground_for :recipe, attributes: [:title, :body]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            

            

            <code class="ruby">      # @example With grouped attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            

            

            <code class="ruby">      #   playground_for :recipe,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            

            

            <code class="ruby">      #                 attributes: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            

            

            <code class="ruby">      #                   :title,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            

            

            <code class="ruby">      #                   { timestamps: [:created_at, :updated_at] }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            

            

            <code class="ruby">      #                 ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            

            

            <code class="ruby">      # @example With relationships</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            

            

            <code class="ruby">      #   playground_for :recipe,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            

            

            <code class="ruby">      #                 attributes: [:title],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            

            

            <code class="ruby">      #                 relationships: [:author]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            

            

            <code class="ruby">      # @example With filters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            

            

            <code class="ruby">      #   playground_for :recipe,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            

            

            <code class="ruby">      #                 attributes: [:title],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            

            

            <code class="ruby">      #                 filters: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            

            

            <code class="ruby">      #                   { field: &#39;title&#39;, type: :exact },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            

            

            <code class="ruby">      #                   { field: &#39;summary&#39;, type: :partial }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            

            

            <code class="ruby">      #                 ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            

            

            <code class="ruby">      # @example With pagination configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            

            

            <code class="ruby">      #   playground_for :recipe,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            

            

            <code class="ruby">      #                 attributes: [:title],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            

            

            <code class="ruby">      #                 pagination: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            

            

            <code class="ruby">      #                   enabled: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            

            

            <code class="ruby">      #                   page_size: 30</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            

            

            <code class="ruby">      #                 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="147">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      def playground_for(model_name, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="148">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        attributes = normalize_attributes(options[:attributes])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="149">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        requests = normalize_requests(options[:requests])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="150">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        filters = normalize_filters(options[:filters])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="151">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        pagination = normalize_pagination(options[:pagination])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="153">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        self.playground_configurations = playground_configurations.merge(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            

            

            <code class="ruby">          model_name.to_s =&gt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            

            

            <code class="ruby">            attributes: attributes,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            

            

            <code class="ruby">            relationships: options[:relationships] || [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            

            

            <code class="ruby">            requests: requests,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            

            

            <code class="ruby">            filters: filters,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            

            

            <code class="ruby">            pagination: pagination</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            

            

            <code class="ruby">      # Normalizes the pagination configuration into a standard format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            

            

            <code class="ruby">      # @param pagination [Hash, nil] Raw pagination configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            

            

            <code class="ruby">      # @return [Hash] Normalized pagination configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            

            

            <code class="ruby">      # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="172">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      def normalize_pagination(pagination)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="173">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        config = pagination || {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="176">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">          enabled: config.fetch(:enabled, true),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            

            

            <code class="ruby">          page_size: [[config.fetch(:page_size, 15), 1].max, 50].min,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            

            

            <code class="ruby">          total_count: config.fetch(:total_count, true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            

            

            <code class="ruby">      # Normalizes the attributes configuration into a standard format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            

            

            <code class="ruby">      # @param attributes [Array&lt;Symbol, Hash&gt;] Raw attributes configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            

            

            <code class="ruby">      # @return [Hash] Normalized attributes with ungrouped and grouped fields</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            

            

            <code class="ruby">      # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="188">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      def normalize_attributes(attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="189">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        return [] if attributes.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="191">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        attributes.each_with_object({ ungrouped: [] }) do |attr, result|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="87" data-linenumber="192">
            
              <span class="hits">87</span>
            

            

            <code class="ruby">          case attr</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            

            

            <code class="ruby">          when Hash</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="194">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            attr.each do |group, fields|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="195">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">              result[group] = Array(fields)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="79" data-linenumber="198">
            
              <span class="hits">79</span>
            

            

            <code class="ruby">            result[:ungrouped] &lt;&lt; attr</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            

            

            <code class="ruby">      # Normalizes the requests configuration into a standard format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            

            

            <code class="ruby">      # @param requests [Hash] Raw requests configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            

            

            <code class="ruby">      # @return [Hash] Normalized requests configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            

            

            <code class="ruby">      # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="209">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      def normalize_requests(requests)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="210">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        return {} if requests.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="212">
            
              <span class="hits">24</span>
            

            

            <code class="ruby">        requests.each_with_object({}) do |(key, value), normalized|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="213">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">          normalized[key.to_sym] = case value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            

            

            <code class="ruby">                                  when true, false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="215">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">                                    value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            

            

            <code class="ruby">                                  else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="217">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">                                    value.transform_keys(&amp;:to_sym)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            

            

            <code class="ruby">                                  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            

            

            <code class="ruby">      # Normalizes the filters configuration into a standard format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            

            

            <code class="ruby">      # @param filters [Array&lt;Hash&gt;] Raw filters configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            

            

            <code class="ruby">      # @return [Array&lt;Hash&gt;] Normalized filters with field and type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            

            

            <code class="ruby">      # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="228">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      def normalize_filters(filters)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="229">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">        return [] if filters.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="231">
            
              <span class="hits">18</span>
            

            

            <code class="ruby">        filters.map do |filter|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            

            

            <code class="ruby">          {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="233">
            
              <span class="hits">30</span>
            

            

            <code class="ruby">            field: filter[:field].to_s,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            

            

            <code class="ruby">            type: filter[:type].to_sym</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            

            

            <code class="ruby">    # Handles the API request and returns the appropriate response.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            

            

            <code class="ruby">    # This action supports both collection and individual resource requests.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            

            

            <code class="ruby">    # @note This method is automatically called by Rails routing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            

            

            <code class="ruby">    # @example Collection request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            

            

            <code class="ruby">    #   GET /api/playground/recipes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            

            

            <code class="ruby">    # @example Individual resource request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            

            

            <code class="ruby">    #   GET /api/playground/recipes/1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="250">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def discover</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="251">
            
              <span class="hits">65</span>
            

            

            <code class="ruby">      model_name = params[:model_name].to_s.singularize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            

            

            <code class="ruby">      # Special case: if someone accesses &#39;docs&#39; without including Documentation module</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="254">
            
              <span class="hits">65</span>
            

            

            <code class="ruby">      if model_name == &#39;doc&#39; &amp;&amp; !respond_to?(:docs)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="255">
            

            

            <code class="ruby">        return render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            

            

            <code class="ruby">          error: &#39;Documentation not available&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            

            

            <code class="ruby">          message: &#39;To enable API documentation, include ApiPlayground::Documentation in your controller&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            

            

            <code class="ruby">        }, status: :not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="261">
            
              <span class="hits">65</span>
            

            

            <code class="ruby">      config = self.class.playground_configurations[model_name]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="263">
            
              <span class="hits">65</span>
            

            

            <code class="ruby">      return model_not_found unless config</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="42" data-linenumber="265">
            
              <span class="hits">42</span>
            

            

            <code class="ruby">      model_class = model_name.classify.constantize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="42" data-linenumber="267">
            
              <span class="hits">42</span>
            

            

            <code class="ruby">      if params[:id].present?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="268">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">        discover_resource(model_class, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="270">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">        discover_collection(model_class, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            

            

            <code class="ruby">    rescue NameError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="273">
            

            

            <code class="ruby">      model_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            

            

            <code class="ruby">    rescue ActiveRecord::RecordNotFound =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="275">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">      record_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            

            

            <code class="ruby">    # Creates a new resource with the provided attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            

            

            <code class="ruby">    # Requires the model to have create permission configured in requests options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            

            

            <code class="ruby">    # Returns 201 Created on success, or appropriate error status on failure.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            

            

            <code class="ruby">    # @example Request format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            

            

            <code class="ruby">    #   POST /api/playground/recipes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            

            

            <code class="ruby">    #   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            

            

            <code class="ruby">    #     &quot;data&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            

            

            <code class="ruby">    #       &quot;attributes&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            

            

            <code class="ruby">    #         &quot;title&quot;: &quot;New Recipe&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            

            

            <code class="ruby">    #         &quot;summary&quot;: &quot;A delicious recipe&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            

            

            <code class="ruby">    #       }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            

            

            <code class="ruby">    #     }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            

            

            <code class="ruby">    # @example Success response (201 Created)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            

            

            <code class="ruby">    #   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            

            

            <code class="ruby">    #     &quot;data&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            

            

            <code class="ruby">    #       &quot;id&quot;: &quot;1&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            

            

            <code class="ruby">    #       &quot;type&quot;: &quot;recipes&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            

            

            <code class="ruby">    #       &quot;attributes&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            

            

            <code class="ruby">    #         &quot;title&quot;: &quot;New Recipe&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            

            

            <code class="ruby">    #         &quot;summary&quot;: &quot;A delicious recipe&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            

            

            <code class="ruby">    #       }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            

            

            <code class="ruby">    #     }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            

            

            <code class="ruby">    # @example Error response (422 Unprocessable Entity)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            

            

            <code class="ruby">    #   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            

            

            <code class="ruby">    #     &quot;errors&quot;: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            

            

            <code class="ruby">    #       &quot;status&quot;: &quot;422&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            

            

            <code class="ruby">    #       &quot;title&quot;: &quot;Validation Error&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            

            

            <code class="ruby">    #       &quot;detail&quot;: &quot;Title can&#39;t be blank&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            

            

            <code class="ruby">    #       &quot;source&quot;: { &quot;pointer&quot;: &quot;/data/attributes/title&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            

            

            <code class="ruby">    #     }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            

            

            <code class="ruby">    # @note This method is automatically called by Rails routing</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="316">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def create</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="317">
            
              <span class="hits">13</span>
            

            

            <code class="ruby">      model_name = params[:model_name].to_s.singularize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="318">
            
              <span class="hits">13</span>
            

            

            <code class="ruby">      config = self.class.playground_configurations[model_name]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="320">
            
              <span class="hits">13</span>
            

            

            <code class="ruby">      return model_not_found unless config</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="321">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">      return request_not_supported(:create) unless config.dig(:requests, :create)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="323">
            
              <span class="hits">9</span>
            

            

            <code class="ruby">      model_class = model_name.classify.constantize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="324">
            
              <span class="hits">9</span>
            

            

            <code class="ruby">      allowed_fields = config.dig(:requests, :create, :fields)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="326">
            
              <span class="hits">9</span>
            

            

            <code class="ruby">      permitted_params = params.require(:data)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            

            

            <code class="ruby">                              .require(:attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            

            

            <code class="ruby">                              .permit(allowed_fields)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="330">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">      resource = model_class.new(permitted_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="332">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">      if resource.save</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="333">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">        render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            

            

            <code class="ruby">          data: serialize_resource(resource, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            

            

            <code class="ruby">        }, status: :created</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="337">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">        render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            

            

            <code class="ruby">          errors: serialize_errors(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            

            

            <code class="ruby">        }, status: :unprocessable_entity</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            

            

            <code class="ruby">    rescue NameError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="342">
            

            

            <code class="ruby">      model_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            

            

            <code class="ruby">    rescue ActionController::ParameterMissing =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="344">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">      parameter_missing(e)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            

            

            <code class="ruby">    # Updates an existing resource with the provided attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            

            

            <code class="ruby">    # Requires the model to have update permission configured in requests options.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            

            

            <code class="ruby">    # Returns 200 OK on success, or appropriate error status on failure.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            

            

            <code class="ruby">    # @example Request format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            

            

            <code class="ruby">    #   PATCH /api/playground/recipes/1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            

            

            <code class="ruby">    #   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            

            

            <code class="ruby">    #     &quot;data&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            

            

            <code class="ruby">    #       &quot;attributes&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            

            

            <code class="ruby">    #         &quot;title&quot;: &quot;Updated Recipe Title&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            

            

            <code class="ruby">    #         &quot;summary&quot;: &quot;An updated summary&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            

            

            <code class="ruby">    #       }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            

            

            <code class="ruby">    #     }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            

            

            <code class="ruby">    # @example Success response (200 OK)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            

            

            <code class="ruby">    #   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            

            

            <code class="ruby">    #     &quot;data&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            

            

            <code class="ruby">    #       &quot;id&quot;: &quot;1&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            

            

            <code class="ruby">    #       &quot;type&quot;: &quot;recipes&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            

            

            <code class="ruby">    #       &quot;attributes&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            

            

            <code class="ruby">    #         &quot;title&quot;: &quot;Updated Recipe Title&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            

            

            <code class="ruby">    #         &quot;summary&quot;: &quot;An updated summary&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            

            

            <code class="ruby">    #       }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            

            

            <code class="ruby">    #     }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            

            

            <code class="ruby">    # @example Error response (422 Unprocessable Entity)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            

            

            <code class="ruby">    #   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            

            

            <code class="ruby">    #     &quot;errors&quot;: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            

            

            <code class="ruby">    #       &quot;status&quot;: &quot;422&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            

            

            <code class="ruby">    #       &quot;title&quot;: &quot;Validation Error&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            

            

            <code class="ruby">    #       &quot;detail&quot;: &quot;Title can&#39;t be blank&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            

            

            <code class="ruby">    #       &quot;source&quot;: { &quot;pointer&quot;: &quot;/data/attributes/title&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            

            

            <code class="ruby">    #     }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            

            

            <code class="ruby">    # @note This method is automatically called by Rails routing</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="385">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="386">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      model_name = params[:model_name].to_s.singularize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="387">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      config = self.class.playground_configurations[model_name]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="389">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      return model_not_found unless config</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="390">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">      return request_not_supported(:update) unless config.dig(:requests, :update)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="392">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      model_class = model_name.classify.constantize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="393">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      allowed_fields = config.dig(:requests, :update, :fields)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="395">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      resource = model_class.find(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="397">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">      permitted_params = params.require(:data)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            

            

            <code class="ruby">                              .require(:attributes)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            

            

            <code class="ruby">                              .permit(allowed_fields)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="401">
            
              <span class="hits">13</span>
            

            

            <code class="ruby">      if resource.update(permitted_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="402">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">        render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            

            

            <code class="ruby">          data: serialize_resource(resource, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            

            

            <code class="ruby">        }, status: :ok</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="406">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">        render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            

            

            <code class="ruby">          errors: serialize_errors(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            

            

            <code class="ruby">        }, status: :unprocessable_entity</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            

            

            <code class="ruby">    rescue NameError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="411">
            

            

            <code class="ruby">      model_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            

            

            <code class="ruby">    rescue ActiveRecord::RecordNotFound =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="413">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      record_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            

            

            <code class="ruby">    rescue ActionController::ParameterMissing =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="415">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">      parameter_missing(e)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            

            

            <code class="ruby">    # Handles deletion of a resource.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            

            

            <code class="ruby">    # Returns 204 No Content on success, or appropriate error status on failure.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            

            

            <code class="ruby">    # @example</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            

            

            <code class="ruby">    #   DELETE /api/playground/recipes/1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            

            

            <code class="ruby">    # @note This method is automatically called by Rails routing</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="425">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="426">
            
              <span class="hits">27</span>
            

            

            <code class="ruby">      model_name = params[:model_name].to_s.singularize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="427">
            
              <span class="hits">27</span>
            

            

            <code class="ruby">      config = self.class.playground_configurations[model_name]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="429">
            
              <span class="hits">27</span>
            

            

            <code class="ruby">      return model_not_found unless config</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="430">
            
              <span class="hits">23</span>
            

            

            <code class="ruby">      return request_not_supported(:delete) unless config.dig(:requests, :delete)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="432">
            
              <span class="hits">22</span>
            

            

            <code class="ruby">      model_class = model_name.classify.constantize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="433">
            
              <span class="hits">22</span>
            

            

            <code class="ruby">      resource = model_class.find(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="435">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">      if resource.destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="436">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">        head :no_content</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="438">
            

            

            <code class="ruby">        render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            

            

            <code class="ruby">          errors: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            

            

            <code class="ruby">            status: &#39;422&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            

            

            <code class="ruby">            title: &#39;Deletion Error&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="442">
            

            

            <code class="ruby">            detail: &#39;The resource could not be deleted&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            

            

            <code class="ruby">            source: { pointer: &quot;/data/#{model_name}/#{params[:id]}&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            

            

            <code class="ruby">          }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            

            

            <code class="ruby">        }, status: :unprocessable_entity</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            

            

            <code class="ruby">    rescue NameError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="448">
            

            

            <code class="ruby">      model_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            

            

            <code class="ruby">    rescue ActiveRecord::RecordNotFound =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="450">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">      record_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="453">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            

            

            <code class="ruby">    # Handles requests for individual resources.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            

            

            <code class="ruby">    # @param model_class [Class] The model class to query</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            

            

            <code class="ruby">    # @param config [Hash] The configuration for this model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="461">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def discover_resource(model_class, config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="462">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">      resource = if config[:relationships].present?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="463">
            

            

            <code class="ruby">                  model_class.includes(*config[:relationships]).find(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            

            

            <code class="ruby">                else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="465">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">                  model_class.find(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="468">
            
              <span class="hits">19</span>
            

            

            <code class="ruby">      render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            

            

            <code class="ruby">        data: serialize_resource(resource, config),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            

            

            <code class="ruby">        meta: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            

            

            <code class="ruby">          available_attributes: config[:attributes],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            

            

            <code class="ruby">          available_models: self.class.playground_configurations.keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            

            

            <code class="ruby">    # Handles requests for collections of resources.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            

            

            <code class="ruby">    # @param model_class [Class] The model class to query</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            

            

            <code class="ruby">    # @param config [Hash] The configuration for this model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="483">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def discover_collection(model_class, config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="484">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">      scope = model_class</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="485">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">      scope = scope.includes(*config[:relationships]) if config[:relationships].present?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="486">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            

            

            <code class="ruby">      # Apply filters if present in the request</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="488">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">      if params[:filters].present? &amp;&amp; config[:filters].present?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="489">
            

            

            <code class="ruby">        scope = apply_filters(scope, params[:filters], config[:filters])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            

            

            <code class="ruby">      # Calculate total count before pagination if enabled</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="493">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">      total_count = if config.dig(:pagination, :enabled) &amp;&amp; config.dig(:pagination, :total_count)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="494">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">        scope.count</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            

            

            <code class="ruby">      # Apply pagination if enabled, otherwise get all records</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="498">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      if config.dig(:pagination, :enabled)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="499">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        scope = paginate_scope(scope, config[:pagination], total_count)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="501">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        scope = scope.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="504">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      resources = scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="506">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="60" data-linenumber="507">
            
              <span class="hits">60</span>
            

            

            <code class="ruby">        data: resources.map { |resource| serialize_resource(resource, config) },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            

            

            <code class="ruby">        meta: build_meta_data(config, total_count)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            

            

            <code class="ruby">    # Applies filters to the query scope based on request parameters and configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            

            

            <code class="ruby">    # @param scope [ActiveRecord::Relation] The initial query scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            

            

            <code class="ruby">    # @param filter_params [Hash] The filter parameters from the request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            

            

            <code class="ruby">    # @param filter_config [Array&lt;Hash&gt;] The configured filters for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            

            

            <code class="ruby">    # @return [ActiveRecord::Relation] The filtered scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="520">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def apply_filters(scope, filter_params, filter_config)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="521">
            

            

            <code class="ruby">      filter_params.each do |field, value|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="522">
            

            

            <code class="ruby">        filter = filter_config.find { |f| f[:field] == field }</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="523">
            

            

            <code class="ruby">        next unless filter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="525">
            

            

            <code class="ruby">        case filter[:type]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="526">
            

            

            <code class="ruby">        when :exact</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="527">
            

            

            <code class="ruby">          scope = scope.where(field =&gt; value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            

            

            <code class="ruby">        when :partial</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="529">
            

            

            <code class="ruby">          scope = scope.where(&quot;LOWER(#{field}) LIKE ?&quot;, &quot;%#{value.downcase}%&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="532">
            

            

            <code class="ruby">      scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="533">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="534">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            

            

            <code class="ruby">    # Paginates a scope based on request parameters and configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            

            

            <code class="ruby">    # @param scope [ActiveRecord::Relation] The scope to paginate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            

            

            <code class="ruby">    # @param pagination_config [Hash] The pagination configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            

            

            <code class="ruby">    # @param total_count [Integer, nil] The total number of records (nil if counting disabled)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="540">
            

            

            <code class="ruby">    # @return [ActiveRecord::Relation] The paginated scope</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="543">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def paginate_scope(scope, pagination_config, total_count)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="544">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">      page = [params.dig(:page, :number).to_i, 1].max</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="545">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">      requested_size = params.dig(:page, :size)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            

            

            <code class="ruby">      # If page size not specified in request, use configured size</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="548">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">      page_size = if requested_size.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="549">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        pagination_config[:page_size]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="551">
            

            

            <code class="ruby">        [[requested_size.to_i, 1].max, 50].min</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="552">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="553">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            

            

            <code class="ruby">      # Calculate offset and limit</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="555">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">      offset = (page - 1) * page_size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="557">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">      scope.offset(offset).limit(page_size)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            

            

            <code class="ruby">    # Builds metadata for the response including pagination information</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="562">
            

            

            <code class="ruby">    # @param config [Hash] The model configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="563">
            

            

            <code class="ruby">    # @param total_count [Integer, nil] The total number of records (nil if counting disabled)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            

            

            <code class="ruby">    # @return [Hash] The metadata hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="567">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def build_meta_data(config, total_count)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            

            

            <code class="ruby">      meta = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="569">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">        available_attributes: config[:attributes],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            

            

            <code class="ruby">        available_filters: config[:filters],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            

            

            <code class="ruby">        available_models: self.class.playground_configurations.keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            

            

            <code class="ruby">      # Only include total_count if it was calculated</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="575">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      meta[:total_count] = total_count if total_count</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="576">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="577">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      if config.dig(:pagination, :enabled)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="578">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        page = [params.dig(:page, :number).to_i, 1].max</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="579">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        requested_size = params.dig(:page, :size)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="580">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            

            

            <code class="ruby">        # Use same logic as paginate_scope for consistency</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="582">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        page_size = if requested_size.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="583">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">          config.dig(:pagination, :page_size)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="585">
            

            

            <code class="ruby">          [[requested_size.to_i, 1].max, 50].min</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="586">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            

            

            <code class="ruby">        pagination_meta = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="589">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">          current_page: page,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="590">
            

            

            <code class="ruby">          page_size: page_size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            

            

            <code class="ruby">        # Only include total_pages if we have total_count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="594">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        if total_count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="595">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">          pagination_meta[:total_pages] = (total_count.to_f / page_size).ceil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="597">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="598">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        meta[:pagination] = pagination_meta</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="599">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="601">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">      meta</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            

            

            <code class="ruby">    # Serializes a resource into a JSONAPI-compliant format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="606">
            

            

            <code class="ruby">    # @param resource [ApplicationRecord] The resource to serialize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="607">
            

            

            <code class="ruby">    # @param config [Hash] The configuration for this model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            

            

            <code class="ruby">    # @return [Hash] The serialized resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="610">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="611">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def serialize_resource(resource, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            

            

            <code class="ruby">      response = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="613">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">        id: resource.id.to_s,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            

            

            <code class="ruby">        type: resource.class.name.underscore.pluralize,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="615">
            

            

            <code class="ruby">        attributes: serialize_attributes(resource, config[:attributes])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="616">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="618">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">      if config[:relationships].present?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="619">
            

            

            <code class="ruby">        response[:relationships] = config[:relationships].each_with_object({}) { |rel, hash|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="620">
            

            

            <code class="ruby">          related_resource = resource.send(rel)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="621">
            

            

            <code class="ruby">          </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="622">
            

            

            <code class="ruby">          hash[rel] = if related_resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="624">
            

            

            <code class="ruby">              data: if related_resource.respond_to?(:each)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="625">
            

            

            <code class="ruby">                related_resource.map { |r| { id: r.id.to_s, type: rel.to_s } }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            

            

            <code class="ruby">              else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="627">
            

            

            <code class="ruby">                { id: related_resource.id.to_s, type: rel.to_s }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="628">
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="631">
            

            

            <code class="ruby">            { data: nil }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="634">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="635">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="636">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">      response</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            

            

            <code class="ruby">    # Serializes the attributes of a resource, handling both grouped and ungrouped attributes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            

            

            <code class="ruby">    # @param resource [ApplicationRecord] The resource whose attributes to serialize</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="642">
            

            

            <code class="ruby">    # @param attributes_config [Hash] The attributes configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="643">
            

            

            <code class="ruby">    # @return [Hash] The serialized attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="644">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="645">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="646">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def serialize_attributes(resource, attributes_config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="647">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">      result = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="648">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">      errors = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="649">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="650">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">      attributes_config.each do |group, fields|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="101" data-linenumber="651">
            
              <span class="hits">101</span>
            

            

            <code class="ruby">        next if fields.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="652">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="101" data-linenumber="653">
            
              <span class="hits">101</span>
            

            

            <code class="ruby">        if group == :ungrouped</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="654">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">          fields.each do |field|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="655">
            

            

            <code class="ruby">            begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="175" data-linenumber="656">
            
              <span class="hits">175</span>
            

            

            <code class="ruby">              result[field] = format_attribute_value(resource.send(field))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="657">
            

            

            <code class="ruby">            rescue NoMethodError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="658">
            

            

            <code class="ruby">              errors &lt;&lt; { attribute: field, message: &quot;Method &#39;#{field}&#39; not found on #{resource.class.name}&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="659">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="660">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="662">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">          group_values = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="663">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">          has_valid_fields = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="664">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="665">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">          fields.each do |field|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            

            

            <code class="ruby">            begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="667">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">              group_values[field] = format_attribute_value(resource.send(field))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="668">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">              has_valid_fields = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="669">
            

            

            <code class="ruby">            rescue NoMethodError =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="670">
            

            

            <code class="ruby">              errors &lt;&lt; { attribute: &quot;#{group}.#{field}&quot;, message: &quot;Method &#39;#{field}&#39; not found on #{resource.class.name}&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="671">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="672">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="674">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">          result[group] = group_values if has_valid_fields</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="676">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="678">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">      if errors.any?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="679">
            

            

            <code class="ruby">        result[:_errors] = errors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="680">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="681">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="90" data-linenumber="682">
            
              <span class="hits">90</span>
            

            

            <code class="ruby">      result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="683">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="684">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="685">
            

            

            <code class="ruby">    # Formats attribute values, with special handling for timestamps.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="686">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="687">
            

            

            <code class="ruby">    # @param value [Object] The value to format</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="688">
            

            

            <code class="ruby">    # @return [Object] The formatted value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="689">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="690">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="691">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def format_attribute_value(value)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="196" data-linenumber="692">
            
              <span class="hits">196</span>
            

            

            <code class="ruby">      case value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="693">
            

            

            <code class="ruby">      when ActiveSupport::TimeWithZone, Time, DateTime, Date</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="694">
            
              <span class="hits">14</span>
            

            

            <code class="ruby">        value.iso8601</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="695">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="182" data-linenumber="696">
            
              <span class="hits">182</span>
            

            

            <code class="ruby">        value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="697">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="698">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="699">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="700">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def serialize_errors(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="701">
            
              <span class="hits">9</span>
            

            

            <code class="ruby">      resource.errors.map do |error|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="702">
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="703">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">          status: &#39;422&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            

            

            <code class="ruby">          title: &#39;Validation Error&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="705">
            

            

            <code class="ruby">          detail: error.full_message,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="706">
            

            

            <code class="ruby">          source: { pointer: &quot;/data/attributes/#{error.attribute}&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="709">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="710">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="711">
            

            

            <code class="ruby">    # Renders a 404 error when the requested model is not found.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="714">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def model_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="715">
            
              <span class="hits">33</span>
            

            

            <code class="ruby">      render json: { </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="716">
            

            

            <code class="ruby">        errors: [{ </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            

            

            <code class="ruby">          status: &#39;404&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            

            

            <code class="ruby">          title: &#39;Model not found&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="719">
            

            

            <code class="ruby">          detail: &quot;The requested model &#39;#{params[:model_name]}&#39; is not available in the playground&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="720">
            

            

            <code class="ruby">          available_models: self.class.playground_configurations.keys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="721">
            

            

            <code class="ruby">        }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="722">
            

            

            <code class="ruby">      }, status: :not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="723">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="724">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            

            

            <code class="ruby">    # Renders a 404 error when the requested record is not found.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="728">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def record_not_found</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="729">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">      render json: { </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="730">
            

            

            <code class="ruby">        errors: [{ </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            

            

            <code class="ruby">          status: &#39;404&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            

            

            <code class="ruby">          title: &#39;Record not found&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="733">
            

            

            <code class="ruby">          detail: &quot;Could not find #{params[:model_name].singularize} with id &#39;#{params[:id]}&#39;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="734">
            

            

            <code class="ruby">        }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            

            

            <code class="ruby">      }, status: :not_found</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="736">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="738">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def request_not_supported(action)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="739">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">      render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="740">
            

            

            <code class="ruby">        errors: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="741">
            

            

            <code class="ruby">          status: &#39;405&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="742">
            

            

            <code class="ruby">          title: &#39;Request not supported&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="743">
            

            

            <code class="ruby">          detail: &quot;The model &#39;#{params[:model_name]}&#39; does not support #{action} operations&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="744">
            

            

            <code class="ruby">        }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="745">
            

            

            <code class="ruby">      }, status: :method_not_allowed</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="746">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="747">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="748">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def parameter_missing(error)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="749">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">      render json: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="750">
            

            

            <code class="ruby">        errors: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="751">
            

            

            <code class="ruby">          status: &#39;400&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="752">
            

            

            <code class="ruby">          title: &#39;Parameter missing&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="753">
            

            

            <code class="ruby">          detail: &quot;Required parameter missing: #{error.param}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="754">
            

            

            <code class="ruby">          source: { pointer: &quot;/data/attributes&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="755">
            

            

            <code class="ruby">        }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="756">
            

            

            <code class="ruby">      }, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="757">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="758">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="759">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5f726a321dc60b9a56c0098fe42f1976ea00a1eb">
  <div class="header">
    <h3>lib/api_playground/configuration.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>9</b> relevant lines.
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  class Configuration</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    attr_accessor :api_key_header,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby">                 :api_key_model,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            

            

            <code class="ruby">                 :api_key_field,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            

            

            <code class="ruby">                 :default_namespace,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            

            

            <code class="ruby">                 :default_source</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      @api_key_header = &#39;X-API-Key&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      @api_key_model = &#39;ApiPlayground::ApiKey&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      @api_key_field = &#39;token&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      @default_namespace = :api</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      @default_source = :playground</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ac0d73fbb6aafd6b3f3296fbb42a3af060dba7e6">
  <div class="header">
    <h3>lib/api_playground/documentation.rb</h3>
    <h4>
      <span class="yellow">
  89.66%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>116</b> relevant lines.
      <span class="green"><b>104</b> lines covered</span> and
      <span class="red"><b>12</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            

            

            <code class="ruby"># ApiPlayground::Documentation provides OpenAPI v3 specification generation for playground APIs.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby"># When included in a controller that also includes ApiPlayground, it adds a `/docs` endpoint</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            

            

            <code class="ruby"># that serves comprehensive API documentation in OpenAPI v3 format.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            

            

            <code class="ruby"># Features:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby"># - Automatic OpenAPI v3.0.3 specification generation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            

            

            <code class="ruby"># - Schema definitions based on playground configurations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby"># - Path definitions for all configured CRUD operations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            

            

            <code class="ruby"># - Request/response examples</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            

            

            <code class="ruby"># - Error response schemas</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            

            

            <code class="ruby"># - Security definitions for API key authentication</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby"># @example Basic usage in a controller</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby">#   class Api::PlaygroundController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            

            

            <code class="ruby">#     include ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            

            

            <code class="ruby">#     include ApiPlayground::Documentation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">#     playground_for :recipe,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            

            

            <code class="ruby">#                   attributes: [:title, :body],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">#                   requests: { create: { fields: [:title, :body] }, update: { fields: [:title] }, delete: true }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">#   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby"># @example Accessing the documentation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            

            

            <code class="ruby">#   GET /api/playground/docs</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby">#   # Returns OpenAPI v3 JSON specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            

            

            <code class="ruby"># @example Integration with API protection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            

            

            <code class="ruby">#   class Api::PlaygroundController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            

            

            <code class="ruby">#     include ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            

            

            <code class="ruby">#     include ApiPlayground::Documentation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            

            

            <code class="ruby">#     include ApiPlayground::ApiKeyProtection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            

            

            <code class="ruby">#     protected_playground!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            

            

            <code class="ruby">#   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            

            

            <code class="ruby"># The documentation endpoint respects the same protection settings as the API endpoints.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  module Documentation</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    extend ActiveSupport::Concern</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            

            

            <code class="ruby">    # Renders the OpenAPI v3 specification for the configured playground API.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            

            

            <code class="ruby">    # The specification includes all configured models, their schemas, operations, and examples.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            

            

            <code class="ruby">    # @example Request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            

            

            <code class="ruby">    #   GET /api/playground/docs</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            

            

            <code class="ruby">    #   Accept: application/json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            

            

            <code class="ruby">    # @example Response</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            

            

            <code class="ruby">    #   {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            

            

            <code class="ruby">    #     &quot;openapi&quot;: &quot;3.0.3&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            

            

            <code class="ruby">    #     &quot;info&quot;: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            

            

            <code class="ruby">    #       &quot;title&quot;: &quot;API Playground&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            

            

            <code class="ruby">    #       &quot;version&quot;: &quot;1.0.0&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            

            

            <code class="ruby">    #       &quot;description&quot;: &quot;Interactive API documentation for playground endpoints&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            

            

            <code class="ruby">    #     },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            

            

            <code class="ruby">    #     &quot;paths&quot;: { ... },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            

            

            <code class="ruby">    #     &quot;components&quot;: { ... }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            

            

            <code class="ruby">    #   }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            

            

            <code class="ruby">    # @note This method is automatically called by Rails routing</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def docs</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="63">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      render json: generate_openapi_spec, status: :ok</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            

            

            <code class="ruby">    # Generates the complete OpenAPI v3 specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            

            

            <code class="ruby">    # @return [Hash] Complete OpenAPI v3 specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_openapi_spec</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="75">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">        openapi: &#39;3.0.3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            

            

            <code class="ruby">        info: generate_info_section,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            

            

            <code class="ruby">        servers: generate_servers_section,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            

            

            <code class="ruby">        paths: generate_paths_section,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            

            

            <code class="ruby">        components: generate_components_section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            

            

            <code class="ruby">    # Generates the OpenAPI info section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            

            

            <code class="ruby">    # @return [Hash] Info section of the OpenAPI spec</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_info_section</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="89">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            

            

            <code class="ruby">        title: &#39;API Playground&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            

            

            <code class="ruby">        version: &#39;1.0.0&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            

            

            <code class="ruby">        description: &#39;Interactive API documentation for playground endpoints&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            

            

            <code class="ruby">    # Generates the OpenAPI servers section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            

            

            <code class="ruby">    # @return [Array&lt;Hash&gt;] Servers section of the OpenAPI spec</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_servers_section</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="102">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      [{ url: request.base_url, description: &#39;Current server&#39; }]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            

            

            <code class="ruby">    # Generates the OpenAPI paths section with all configured model operations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            

            

            <code class="ruby">    # @return [Hash] Paths section of the OpenAPI spec</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_paths_section</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="111">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      paths = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="112">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      base_path = extract_base_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="114">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      self.class.playground_configurations.each do |model_name, config|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="115">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        model_paths = generate_model_paths(model_name, config, base_path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="116">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        paths.merge!(model_paths)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="119">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            

            

            <code class="ruby">    # Generates paths for a specific model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            

            

            <code class="ruby">    # @param base_path [String] Base path for the API</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            

            

            <code class="ruby">    # @return [Hash] Paths for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_model_paths(model_name, config, base_path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="131">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      paths = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="132">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      model_plural = model_name.pluralize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="133">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      collection_path = &quot;#{base_path}/#{model_plural}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="134">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      resource_path = &quot;#{base_path}/#{model_plural}/{id}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="136">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      paths[collection_path] = { get: generate_list_operation(model_name, config) }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="137">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      paths[collection_path][:post] = generate_create_operation(model_name, config) if config.dig(:requests, :create)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="139">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      paths[resource_path] = { get: generate_show_operation(model_name, config) }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="140">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      paths[resource_path][:patch] = generate_update_operation(model_name, config) if config.dig(:requests, :update)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="141">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      paths[resource_path][:delete] = generate_delete_operation(model_name, config) if config.dig(:requests, :delete)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="143">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      paths</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            

            

            <code class="ruby">    # Generates the list/index operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            

            

            <code class="ruby">    # @return [Hash] OpenAPI operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="153">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_list_operation(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            

            

            <code class="ruby">      operation = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="155">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        summary: &quot;List #{model_name.pluralize.humanize}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            

            

            <code class="ruby">        description: generate_list_description(model_name, config),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            

            

            <code class="ruby">        tags: [model_name.humanize],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            

            

            <code class="ruby">        responses: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            

            

            <code class="ruby">          &#39;200&#39; =&gt; { description: &#39;Successful response&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            

            

            <code class="ruby">          &#39;401&#39; =&gt; { description: &#39;Unauthorized&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            

            

            <code class="ruby">          &#39;404&#39; =&gt; { description: &#39;Not found&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            

            

            <code class="ruby">      # Add parameters for pagination and filters</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="166">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      parameters = generate_list_parameters(config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="167">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      operation[:parameters] = parameters if parameters.any?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="169">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      operation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            

            

            <code class="ruby">    # Generates the show/detail operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            

            

            <code class="ruby">    # @return [Hash] OpenAPI operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="179">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_show_operation(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="181">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        summary: &quot;Get #{model_name.humanize}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            

            

            <code class="ruby">        description: &quot;Retrieve a specific #{model_name.humanize.downcase} by ID&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            

            

            <code class="ruby">        tags: [model_name.humanize],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            

            

            <code class="ruby">        parameters: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            

            

            <code class="ruby">          name: &#39;id&#39;, in: &#39;path&#39;, required: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            

            

            <code class="ruby">          description: &quot;ID of the #{model_name.humanize.downcase}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            

            

            <code class="ruby">          schema: { type: &#39;integer&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            

            

            <code class="ruby">        }],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            

            

            <code class="ruby">        responses: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            

            

            <code class="ruby">          &#39;200&#39; =&gt; { description: &#39;Successful response&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            

            

            <code class="ruby">          &#39;401&#39; =&gt; { description: &#39;Unauthorized&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            

            

            <code class="ruby">          &#39;404&#39; =&gt; { description: &#39;Not found&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            

            

            <code class="ruby">    # Generates the create operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            

            

            <code class="ruby">    # @return [Hash] OpenAPI operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="204">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_create_operation(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="206">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">        summary: &quot;Create #{model_name.humanize}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            

            

            <code class="ruby">        description: &quot;Create a new #{model_name.humanize.downcase}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            

            

            <code class="ruby">        tags: [model_name.humanize],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            

            

            <code class="ruby">        requestBody: { required: true },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            

            

            <code class="ruby">        responses: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            

            

            <code class="ruby">          &#39;201&#39; =&gt; { description: &#39;Created successfully&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            

            

            <code class="ruby">          &#39;400&#39; =&gt; { description: &#39;Bad request&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            

            

            <code class="ruby">          &#39;422&#39; =&gt; { description: &#39;Validation error&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            

            

            <code class="ruby">    # Generates the update operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            

            

            <code class="ruby">    # @return [Hash] OpenAPI operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="225">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_update_operation(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="227">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        summary: &quot;Update #{model_name.humanize}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            

            

            <code class="ruby">        description: &quot;Update an existing #{model_name.humanize.downcase}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            

            

            <code class="ruby">        tags: [model_name.humanize],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            

            

            <code class="ruby">        parameters: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            

            

            <code class="ruby">          name: &#39;id&#39;, in: &#39;path&#39;, required: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            

            

            <code class="ruby">          description: &quot;ID of the #{model_name.humanize.downcase}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            

            

            <code class="ruby">          schema: { type: &#39;integer&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            

            

            <code class="ruby">        }],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            

            

            <code class="ruby">        requestBody: { required: true },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            

            

            <code class="ruby">        responses: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            

            

            <code class="ruby">          &#39;200&#39; =&gt; { description: &#39;Updated successfully&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            

            

            <code class="ruby">          &#39;400&#39; =&gt; { description: &#39;Bad request&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            

            

            <code class="ruby">          &#39;404&#39; =&gt; { description: &#39;Not found&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            

            

            <code class="ruby">          &#39;422&#39; =&gt; { description: &#39;Validation error&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            

            

            <code class="ruby">    # Generates the delete operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            

            

            <code class="ruby">    # @return [Hash] OpenAPI operation specification</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="252">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_delete_operation(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="254">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">        summary: &quot;Delete #{model_name.humanize}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            

            

            <code class="ruby">        description: &quot;Delete an existing #{model_name.humanize.downcase}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            

            

            <code class="ruby">        tags: [model_name.humanize],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            

            

            <code class="ruby">        parameters: [{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            

            

            <code class="ruby">          name: &#39;id&#39;, in: &#39;path&#39;, required: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            

            

            <code class="ruby">          description: &quot;ID of the #{model_name.humanize.downcase}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            

            

            <code class="ruby">          schema: { type: &#39;integer&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            

            

            <code class="ruby">        }],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            

            

            <code class="ruby">        responses: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            

            

            <code class="ruby">          &#39;204&#39; =&gt; { description: &#39;Deleted successfully&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            

            

            <code class="ruby">          &#39;401&#39; =&gt; { description: &#39;Unauthorized&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            

            

            <code class="ruby">          &#39;404&#39; =&gt; { description: &#39;Not found&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            

            

            <code class="ruby">    # Generates dynamic description for list operation including filter information</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            

            

            <code class="ruby">    # @return [String] Description text</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="277">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_list_description(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="278">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      base_description = &quot;Retrieve a list of #{model_name.pluralize.humanize.downcase}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="280">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      features = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="281">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      features &lt;&lt; &quot;pagination&quot; if config.dig(:pagination, :enabled)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="282">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      features &lt;&lt; &quot;filtering&quot; if config[:filters]&amp;.any?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="284">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      if features.any?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="285">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        base_description += &quot; with #{features.join(&#39; and &#39;)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="288">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      if config[:filters]&amp;.any?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="289">
            
              <span class="hits">30</span>
            

            

            <code class="ruby">        filter_fields = config[:filters].map { |f| f[:field] }.join(&#39;, &#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="290">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">        base_description += &quot;. Available filters: #{filter_fields}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="293">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      base_description</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            

            

            <code class="ruby">    # Generates parameters for list operations (pagination and filters)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            

            

            <code class="ruby">    # @return [Array&lt;Hash&gt;] Array of parameter specifications</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="302">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_list_parameters(config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="303">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      parameters = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            

            

            <code class="ruby">      # Pagination parameters</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="306">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      if config.dig(:pagination, :enabled)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="307">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        page_size = config.dig(:pagination, :page_size) || 15</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="309">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        parameters &lt;&lt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            

            

            <code class="ruby">          name: &#39;page[number]&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            

            

            <code class="ruby">          in: &#39;query&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            

            

            <code class="ruby">          description: &#39;Page number for pagination (starts from 1)&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            

            

            <code class="ruby">          required: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            

            

            <code class="ruby">          schema: { </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            

            

            <code class="ruby">            type: &#39;integer&#39;, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            

            

            <code class="ruby">            minimum: 1, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            

            

            <code class="ruby">            default: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            

            

            <code class="ruby">            example: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="322">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        parameters &lt;&lt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            

            

            <code class="ruby">          name: &#39;page[size]&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            

            

            <code class="ruby">          in: &#39;query&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            

            

            <code class="ruby">          description: &quot;Number of items per page (maximum: 50)&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            

            

            <code class="ruby">          required: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            

            

            <code class="ruby">          schema: { </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            

            

            <code class="ruby">            type: &#39;integer&#39;, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            

            

            <code class="ruby">            minimum: 1, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            

            

            <code class="ruby">            maximum: 50, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            

            

            <code class="ruby">            default: page_size,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            

            

            <code class="ruby">            example: page_size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            

            

            <code class="ruby">      # Filter parameters</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="338">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      config[:filters]&amp;.each do |filter|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="339">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        filter_type_description = case filter[:type]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            

            

            <code class="ruby">                                 when :exact</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="341">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">                                   &quot;exact match&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            

            

            <code class="ruby">                                 when :partial</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="343">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">                                   &quot;partial match (case-insensitive search)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            

            

            <code class="ruby">                                 else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="345">
            

            

            <code class="ruby">                                   &quot;filter&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            

            

            <code class="ruby">                                 end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="348">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        field_name = filter[:field]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="349">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        humanized_field = field_name.humanize.downcase</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="351">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        parameters &lt;&lt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            

            

            <code class="ruby">          name: &quot;filters[#{field_name}]&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            

            

            <code class="ruby">          in: &#39;query&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            

            

            <code class="ruby">          description: &quot;Filter by #{humanized_field} using #{filter_type_description}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            

            

            <code class="ruby">          required: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            

            

            <code class="ruby">          schema: generate_filter_schema(filter),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            

            

            <code class="ruby">          example: generate_filter_example(filter)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="361">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      parameters</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            

            

            <code class="ruby">    # Generates schema for a filter parameter based on field name and type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            

            

            <code class="ruby">    # @param filter [Hash] Filter configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            

            

            <code class="ruby">    # @return [Hash] Schema definition</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="370">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_filter_schema(filter)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="371">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      field_name = filter[:field].to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            

            

            <code class="ruby">      # Infer schema type based on field name patterns</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="374">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      case field_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            

            

            <code class="ruby">      when /_id$/, &#39;id&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="376">
            

            

            <code class="ruby">        { type: &#39;integer&#39;, description: &#39;Numeric identifier&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            

            

            <code class="ruby">      when /_at$/, /_on$/, /^created/, /^updated/, &#39;timestamp&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="378">
            

            

            <code class="ruby">        { type: &#39;string&#39;, format: &#39;date-time&#39;, description: &#39;ISO8601 timestamp&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            

            

            <code class="ruby">      when &#39;email&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="380">
            

            

            <code class="ruby">        { type: &#39;string&#39;, format: &#39;email&#39;, description: &#39;Email address&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            

            

            <code class="ruby">      when /_count$/, &#39;count&#39;, &#39;quantity&#39;, &#39;number&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="382">
            

            

            <code class="ruby">        { type: &#39;integer&#39;, description: &#39;Numeric value&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            

            

            <code class="ruby">      when /^is_/, /^has_/, &#39;active&#39;, &#39;enabled&#39;, &#39;published&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="384">
            

            

            <code class="ruby">        { type: &#39;boolean&#39;, description: &#39;Boolean value&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="386">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        { type: &#39;string&#39;, description: &#39;Text value&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            

            

            <code class="ruby">    # Generates example value for a filter parameter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            

            

            <code class="ruby">    # @param filter [Hash] Filter configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            

            

            <code class="ruby">    # @return [String, Integer, Boolean] Example value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="396">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_filter_example(filter)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="397">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      field_name = filter[:field].to_s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="398">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      filter_type = filter[:type]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="400">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      case field_name</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            

            

            <code class="ruby">      when /_id$/, &#39;id&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="402">
            

            

            <code class="ruby">        1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            

            

            <code class="ruby">      when &#39;title&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="404">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">        filter_type == :partial ? &#39;Recipe&#39; : &#39;Spaghetti Carbonara&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            

            

            <code class="ruby">      when &#39;name&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="406">
            

            

            <code class="ruby">        filter_type == :partial ? &#39;John&#39; : &#39;John Doe&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            

            

            <code class="ruby">      when &#39;email&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="408">
            

            

            <code class="ruby">        &#39;user@example.com&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            

            

            <code class="ruby">      when &#39;status&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="410">
            

            

            <code class="ruby">        &#39;published&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            

            

            <code class="ruby">      when /^is_/, /^has_/, &#39;active&#39;, &#39;enabled&#39;, &#39;published&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="412">
            

            

            <code class="ruby">        true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            

            

            <code class="ruby">      when /_count$/, &#39;count&#39;, &#39;quantity&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="414">
            

            

            <code class="ruby">        10</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="416">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">        filter_type == :partial ? &#39;search term&#39; : &#39;exact value&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            

            

            <code class="ruby">    # Generates the OpenAPI components section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            

            

            <code class="ruby">    # @return [Hash] Components section of the OpenAPI spec</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="425">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_components_section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="427">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">        schemas: generate_schemas_section,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            

            

            <code class="ruby">        responses: generate_responses_section,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            

            

            <code class="ruby">        securitySchemes: generate_security_schemes_section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            

            

            <code class="ruby">    # Generates schemas for all configured models</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            

            

            <code class="ruby">    # @return [Hash] Schema definitions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="438">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_schemas_section</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="439">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      schemas = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="441">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      self.class.playground_configurations.each do |model_name, config|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="442">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        schemas.merge!(generate_model_schemas(model_name, config))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="445">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      schemas.merge!(generate_error_schemas)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            

            

            <code class="ruby">    # Generates schemas for a specific model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            

            

            <code class="ruby">    # @return [Hash] Schema definitions for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="455">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_model_schemas(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="456">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      model_class_name = model_name.classify</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="458">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        &quot;#{model_class_name}Resource&quot; =&gt; generate_resource_schema(model_name, config),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            

            

            <code class="ruby">        &quot;#{model_class_name}Response&quot; =&gt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            

            

            <code class="ruby">          type: &#39;object&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            

            

            <code class="ruby">          properties: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            

            

            <code class="ruby">            data: { &#39;$ref&#39; =&gt; &quot;#/components/schemas/#{model_class_name}Resource&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            

            

            <code class="ruby">    # Generates the resource schema based on configured attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            

            

            <code class="ruby">    # @param model_name [String] Name of the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            

            

            <code class="ruby">    # @param config [Hash] Configuration for the model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            

            

            <code class="ruby">    # @return [Hash] Resource schema definition</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="475">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_resource_schema(model_name, config)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            

            

            <code class="ruby">      properties = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="477">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        id: { type: &#39;string&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            

            

            <code class="ruby">        type: { type: &#39;string&#39;, enum: [model_name.pluralize] },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            

            

            <code class="ruby">        attributes: generate_attributes_schema(config[:attributes])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="482">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      { type: &#39;object&#39;, properties: properties }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            

            

            <code class="ruby">    # Generates the attributes schema based on configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="486">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            

            

            <code class="ruby">    # @param attributes_config [Hash] Attributes configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            

            

            <code class="ruby">    # @return [Hash] Attributes schema definition</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="491">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_attributes_schema(attributes_config)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="492">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      properties = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="494">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      attributes_config[:ungrouped]&amp;.each do |attr|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="50" data-linenumber="495">
            
              <span class="hits">50</span>
            

            

            <code class="ruby">        properties[attr] = { type: &#39;string&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="498">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">      { type: &#39;object&#39;, properties: properties }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            

            

            <code class="ruby">    # Generates common error schemas</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            

            

            <code class="ruby">    # @return [Hash] Error schema definitions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="506">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_error_schemas</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="508">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">        &#39;ErrorObject&#39; =&gt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            

            

            <code class="ruby">          type: &#39;object&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            

            

            <code class="ruby">          properties: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            

            

            <code class="ruby">            status: { type: &#39;string&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            

            

            <code class="ruby">            title: { type: &#39;string&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            

            

            <code class="ruby">            detail: { type: &#39;string&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            

            

            <code class="ruby">    # Generates common response definitions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            

            

            <code class="ruby">    # @return [Hash] Response definitions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="524">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_responses_section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="525">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="526">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">        &#39;BadRequest&#39; =&gt; { description: &#39;Bad Request&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            

            

            <code class="ruby">        &#39;Unauthorized&#39; =&gt; { description: &#39;Unauthorized&#39; },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            

            

            <code class="ruby">        &#39;NotFound&#39; =&gt; { description: &#39;Resource not found&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="532">
            

            

            <code class="ruby">    # Generates security schemes section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="533">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="534">
            

            

            <code class="ruby">    # @return [Hash] Security schemes definitions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="537">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_security_schemes_section</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            

            

            <code class="ruby">      {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="539">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">        &#39;ApiKeyAuth&#39; =&gt; {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="540">
            

            

            <code class="ruby">          type: &#39;apiKey&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            

            

            <code class="ruby">          in: &#39;header&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            

            

            <code class="ruby">          name: &#39;X-API-Key&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="543">
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="544">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            

            

            <code class="ruby">    # Extracts the base path from the current request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="548">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="549">
            

            

            <code class="ruby">    # @return [String] Base path for the API</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="551">
            

            

            <code class="ruby">    # @api private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="552">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def extract_base_path</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="553">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">      request.path.sub(%r{/docs$}, &#39;&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2c8ed771b04d965f5ed352efa4ad254cdef402a4">
  <div class="header">
    <h3>lib/api_playground/engine.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>13</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  class Engine &lt; ::Rails::Engine</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    isolate_namespace ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    initializer &quot;api_playground.action_dispatch&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      ActiveSupport.on_load(:action_controller) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="7">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        include ApiPlayground::ApiProtection</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    initializer &quot;api_playground.routing_mapper&quot;, before: :set_routes_reloader do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      ActionDispatch::Routing::Mapper.include(ApiPlayground::RoutingMapper)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    initializer &quot;api_playground.table_name_prefix&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      ActiveSupport.on_load(:active_record) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        ActiveRecord::Base.include(Module.new do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">          def self.included(base)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="206" data-linenumber="19">
            
              <span class="hits">206</span>
            

            

            <code class="ruby">            base.before_create { self.class.table_name_prefix = &quot;api_playground_&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            

            

            <code class="ruby">        end)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="20e28122722739e1697c6f38a122b94904e6aa16">
  <div class="header">
    <h3>lib/api_playground/routing_mapper.rb</h3>
    <h4>
      <span class="red">
  18.75%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>16</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>13</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module ApiPlayground</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  module RoutingMapper</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            

            

            <code class="ruby">    # Defines a set of RESTful API routes for the playground functionality</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            

            

            <code class="ruby">    # @example Basic usage within existing namespace</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            

            

            <code class="ruby">    #   namespace :api do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            

            

            <code class="ruby">    #     api_playground_routes controller: &#39;playground&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby">    #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            

            

            <code class="ruby">    #   # =&gt; Creates routes under /api/playground/...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            

            

            <code class="ruby">    # @example With explicit namespace (creates its own namespace)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            

            

            <code class="ruby">    #   api_playground_routes namespace: :v1, controller: &#39;playground&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            

            

            <code class="ruby">    #   # =&gt; Creates routes under /v1/playground/...</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby">    # @example Custom source controller within namespace</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby">    #   namespace :api do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            

            

            <code class="ruby">    #     api_playground_routes source: :explorer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            

            

            <code class="ruby">    #   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby">    #   # =&gt; Creates routes under /api/explorer/... using ExplorerController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">    #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            

            

            <code class="ruby">    # @param [Hash] options The configuration options</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">    # @option options [Symbol] :namespace The namespace under which the routes will be created (optional)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">    # @option options [Symbol] :source The base name for the controller and URL path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            

            

            <code class="ruby">    # @option options [Symbol] :controller Alias for :source (for backwards compatibility)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def api_playground_routes(options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            

            

            <code class="ruby">      source = options.fetch(:controller, options.fetch(:source, ApiPlayground.configuration.default_source))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            

            

            <code class="ruby">      # Define the route block</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            

            

            <code class="ruby">      route_block = proc do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            

            

            <code class="ruby">        scope source do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            

            

            <code class="ruby">          # Documentation route - must come first and be explicit</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            

            

            <code class="ruby">          get &#39;docs&#39;, to: &quot;#{source}#docs&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            

            

            <code class="ruby">          </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            

            

            <code class="ruby">          # Model routes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="35">
            

            

            <code class="ruby">          get &#39;:model_name&#39;, to: &quot;#{source}#discover&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            

            

            <code class="ruby">          get &#39;:model_name/:id&#39;, to: &quot;#{source}#discover&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            

            

            <code class="ruby">          post &#39;:model_name&#39;, to: &quot;#{source}#create&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            

            

            <code class="ruby">          patch &#39;:model_name/:id&#39;, to: &quot;#{source}#update&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            

            

            <code class="ruby">          delete &#39;:model_name/:id&#39;, to: &quot;#{source}#destroy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            

            

            <code class="ruby">      # If namespace is explicitly provided, wrap in namespace</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            

            

            <code class="ruby">      if options.key?(:namespace)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            

            

            <code class="ruby">        namespace_name = options[:namespace]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            

            

            <code class="ruby">        namespace namespace_name, &amp;route_block</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            

            

            <code class="ruby">        # Otherwise, just apply the routes directly (assumes we&#39;re already in desired namespace)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            

            

            <code class="ruby">        route_block.call</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            

            

            <code class="ruby">end </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
